<!DOCTYPE html>
<html>
<head>
    <title>Calculator & Math Quiz</title>
    <style>
        body {
            background-color:rgb(18, 18, 18);
            color: #e0e0e0;
            font-family: 'Segoe UI', 'Gill Sans', sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            margin: 0;
            padding: 40px;
            gap: 40px;
            
        }

        .cal, .random {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 16px;
            padding: 30px 25px;
            box-shadow: 0 8px 10px rgb(8, 137, 241);
            width: 320px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgb(7, 84, 250);
        }

        .cal:hover, .random:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.7);
        }

        h1 {
            margin-bottom: 25px;
            font-size: 26px;
            color: #00bcd4;
        }

        input[type="number"] {
            width: 90%;
            padding: 10px 15px;
            margin: 10px 0;
            border: 1px solid #444;
            border-radius: 10px;
            background: #222;
            color: #e0e0e0;
            font-size: 16px;
            transition: border-color 0.3s ease;
            box-shadow: 0 12px 30px rgb(0, 0, 0);
        }

        input[type="number"]:focus {
            border-color: #00bcd4;
            outline: none;
        }

        button {
            width: 100%;
            padding: 12px 0;
            margin-top: 12px;
            border: none;
            border-radius: 8px;
            background:rgb(12, 89, 99);
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 10px rgb(0, 0, 0);
        }

        button:hover {
            background: #0097a7;
            transform: scale(1.02);
        }

        #result, #quiz-result, #quiz-score {
            display: block;
            margin-top: 20px;
            padding: 12px;
            border-radius: 8px;
            background: #222;
            border: 1px solid #333;
            font-size: 18px;
            word-wrap: break-word;
        }

        p#timer {
            font-weight: bold;
            color: #00bcd4;
            margin-bottom: 10px;
        }

        p#quiz-question {
            margin: 15px 0;
            font-size: 18px;
        }
    </style>
</head>
<body>

<div class="cal">
    <h1>Calculator</h1>
    number 1: <input type="number" id="no1" placeholder="Enter 1st no"><br><br>
    number 2: <input type="number" id="no2" placeholder="Enter 2nd no"><br>
    <button onclick="add()">Addition</button>
    <button onclick="substrack()">Subtraction</button>
    <button onclick="multiple()">Multiplication</button>
    <button onclick="divide()">Division</button>
    <button onclick="clearFields()" style="background-color:gray">Clear</button>
    <span id="result">result</span>
</div>

<div class="random">
    <h1>üéØ Random Math Quiz</h1>
    <p id="timer" style="font-size: 18px; margin-top: 10px; color: #0af;">‚è±Ô∏è Time: 15s</p>
    <p id="quiz-question">Click "Start Quiz" to begin!</p>
    <input type="number" id="quiz-answer" placeholder="Your answer">
    <br>
    <button onclick="checkQuizAnswer()">Submit Answer</button>
    <button onclick="generateQuiz()" style="background-color:green">Start Quiz</button>
    <button onclick="stopQuiz()" style="background-color:red">Stop Quiz</button>

    <br>
    <span id="quiz-result"></span>
    <div id="quiz-score" style="margin-top: 10px;"></div>
</div>

<script>
    let correctAnswer = null;
    let timerInterval;
    let timeLeft = 15;
    let score = { correct: 0, wrong: 0 };

    // üîä Sound Effects
    const correctSound = new Audio("correct-choice-43861.mp3");     // change to your correct sound file
    const wrongSound = new Audio("mixkit-wrong-long-buzzer-954.wav");         // change to your wrong sound file
    const timeoutSound = new Audio("ticking-bomb-90319.mp3");     // change to your timeout sound file

    // Calculator functions
    function add() {
        let no1 = parseFloat(document.getElementById("no1").value);
        let no2 = parseFloat(document.getElementById("no2").value);
        document.getElementById("result").innerText = 'result is ' + (no1 + no2);
    }

    function substrack() {
        let no1 = parseFloat(document.getElementById("no1").value);
        let no2 = parseFloat(document.getElementById("no2").value);
        document.getElementById("result").innerText = 'result is ' + (no1 - no2);
    }

    function multiple() {
        let no1 = parseFloat(document.getElementById("no1").value);
        let no2 = parseFloat(document.getElementById("no2").value);
        document.getElementById("result").innerText = 'result is ' + (no1 * no2);
    }

    function divide() {
        let no1 = parseFloat(document.getElementById("no1").value);
        let no2 = parseFloat(document.getElementById("no2").value);
        if (no2 === 0) {
            document.getElementById("result").innerText = "‚ùå Cannot divide by zero";
            return;
        }
        document.getElementById("result").innerText = 'result is ' + (no1 / no2).toFixed(2);
    }

    function clearFields() {
        document.getElementById("no1").value = "";
        document.getElementById("no2").value = "";
        document.getElementById("result").innerText = "result";
    }

    function updateScoreDisplay() {
        document.getElementById("quiz-score").innerText = `‚úÖ Score: ${score.correct} | ‚ùå Wrong: ${score.wrong}`;
    }

    function generateQuiz() {
        clearInterval(timerInterval);
        const num1 = Math.floor(Math.random() * 20) + 1;
        const num2 = Math.floor(Math.random() * 20) + 1;
        const operations = ['+', '-', '*', '/'];
        const op = operations[Math.floor(Math.random() * operations.length)];
        let question = `${num1} ${op} ${num2}`;

        document.getElementById("quiz-question").innerText = "Solve: " + question;

        switch (op) {
            case '+': correctAnswer = num1 + num2; break;
            case '-': correctAnswer = num1 - num2; break;
            case '*': correctAnswer = num1 * num2; break;
            case '/': correctAnswer = parseFloat((num1 / num2).toFixed(2)); break;
        }

        document.getElementById("quiz-result").innerText = "";
        document.getElementById("quiz-answer").value = "";
        document.getElementById("quiz-answer").disabled = false;
        document.querySelector('button[onclick="checkQuizAnswer()"]').disabled = false;
        startTimer();
    }

    function checkQuizAnswer() {
        clearInterval(timerInterval);
        const userAnswer = parseFloat(document.getElementById("quiz-answer").value);
        const resultEl = document.getElementById("quiz-result");

        if (isNaN(userAnswer)) {
            resultEl.innerText = "‚ö†Ô∏è Please enter a number.";
            resultEl.style.color = "orange";
            return;
        }

        if (Math.abs(userAnswer - correctAnswer) < 0.01) {
            correctSound.play();
            resultEl.innerText = "‚úÖ Correct!";
            resultEl.style.color = "lightgreen";
            score.correct++;
        } else {
            wrongSound.play();
            resultEl.innerText = `‚ùå Incorrect. Correct answer: ${correctAnswer}`;
            resultEl.style.color = "red";
            score.wrong++;
        }

        document.getElementById("quiz-answer").disabled = true;
        document.querySelector('button[onclick="checkQuizAnswer()"]').disabled = true;
        updateScoreDisplay();

        setTimeout(generateQuiz, 2000); // auto-next after 2 seconds
    }

    function startTimer() {
        timeLeft = 15;
        document.getElementById("timer").innerText = `‚è±Ô∏è Time: ${timeLeft}s`;

        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById("timer").innerText = `‚è±Ô∏è Time: ${timeLeft}s`;

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timeoutSound.play();
                document.getElementById("quiz-result").innerText = `‚è∞ Time's up! Correct answer: ${correctAnswer}`;
                document.getElementById("quiz-result").style.color = "orange";
                document.getElementById("quiz-answer").disabled = true;
                document.querySelector('button[onclick="checkQuizAnswer()"]').disabled = true;
                score.wrong++;
                updateScoreDisplay();
                setTimeout(generateQuiz, 2000);
            }
        }, 1000);
    }

    function stopQuiz() {
    clearInterval(timerInterval);
    document.getElementById("quiz-result").innerText = "üõë Quiz stopped.";
    document.getElementById("quiz-result").style.color = "yellow";
    document.getElementById("quiz-answer").disabled = true;
    document.querySelector('button[onclick="checkQuizAnswer()"]').disabled = true;
}

</script>

</body>
</html>
